(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0af8a11a"],{"498a":function(e,t,a){"use strict";var n=a("23e7"),o=a("58a8").trim,r=a("c8d2");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return o(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),o=a("5899"),r="["+o+"]",s=RegExp("^"+r+r+"*"),i=RegExp(r+r+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(s,"")),2&e&&(a=a.replace(i,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},c8d2:function(e,t,a){var n=a("d039"),o=a("5899"),r="​᠎";e.exports=function(e){return n((function(){return!!o[e]()||r[e]()!=r||o[e].name!==e}))}},e84c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"show",rawName:"v-show",value:!e.show_add_board,expression:"!show_add_board"}]},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入搜索内容"},model:{value:e.id_for_seek,callback:function(t){e.id_for_seek=t},expression:"id_for_seek"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.seekbyid},slot:"append"})],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.get_cats_lists}},[e._v("添加商品")])],1)],1),e.goodlist?a("el-table",{attrs:{data:e.goodlist}},[a("el-table-column",{attrs:{prop:"goods_id",label:"#"}}),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)"}}),a("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量"}}),a("el-table-column",{attrs:{prop:"add_time",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e._f("changeformat")(t.row.add_time)))])]}}],null,!1,2564143846)}),a("el-table-column",{attrs:{prop:"option",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.run_editor(t.row,"edit")}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.run_editor(t.row,"del")}}})],1)}}],null,!1,3317188270)})],1):e._e(),a("el-pagination",{attrs:{"current-page":e.current_page,"page-sizes":e.page_sizes,"page-size":e.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.show_add_board,expression:"show_add_board"}]},[a("el-alert",{attrs:{title:"添加商品信息",center:"","show-icon":"",closable:!1}}),a("el-steps",{attrs:{"align-center":"",active:e.a.step_index-0}},[e._l(e.a.steps,(function(e,t){return a("el-step",{key:t,attrs:{title:e.step_name}})})),a("el-step",{attrs:{title:"完成"}})],2),a("el-form",[a("el-tabs",{attrs:{tabPosition:"left","before-leave":e.before_leave_this_tab},model:{value:e.a.step_index,callback:function(t){e.$set(e.a,"step_index",t)},expression:"a.step_index"}},e._l(e.a.steps,(function(t,n){return a("el-tab-pane",{key:n,attrs:{label:t.step_name,name:t.index}},["0"==t.index?a("div",[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{model:{value:e.a.name,callback:function(t){e.$set(e.a,"name",t)},expression:"a.name"}})],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-input",{model:{value:e.a.price,callback:function(t){e.$set(e.a,"price",t)},expression:"a.price"}})],1),a("el-form-item",{attrs:{label:"商品重量"}},[a("el-input",{model:{value:e.a.weight,callback:function(t){e.$set(e.a,"weight",t)},expression:"a.weight"}})],1),a("el-form-item",{attrs:{label:"商品数量"}},[a("el-input",{model:{value:e.a.number,callback:function(t){e.$set(e.a,"number",t)},expression:"a.number"}})],1),e.catlist?a("el-form-item",{attrs:{label:"商品分类"}},[a("el-cascader",{attrs:{options:e.catlist,props:{expandTrigger:"hover",label:"cat_name"}},model:{value:e.a.cat,callback:function(t){e.$set(e.a,"cat",t)},expression:"a.cat"}})],1):e._e()],1):e._e(),"1"==t.index?a("div",[a("el-form-item",{attrs:{label:t.step_name}})],1):e._e(),"2"==t.index?a("div",[a("el-form-item",{attrs:{label:t.step_name}})],1):e._e(),"3"==t.index?a("div",[a("el-form-item",{attrs:{label:t.step_name}})],1):e._e(),"4"==t.index?a("div",[a("el-form-item",{attrs:{label:t.step_name}}),a("div",[a("el-button",{on:{click:function(t){e.show_add_board=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"}},[e._v("确定")])],1)],1):e._e()])})),1)],1)],1),a("el-dialog",{attrs:{title:"修改商品信息",visible:e.show_edit_board}},[e.r?a("el-form",[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{model:{value:e.r.goods_name,callback:function(t){e.$set(e.r,"goods_name",t)},expression:"r.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品价格"}},[a("el-input",{model:{value:e.r.goods_price,callback:function(t){e.$set(e.r,"goods_price",t)},expression:"r.goods_price"}})],1),a("el-form-item",{attrs:{label:"商品重量"}},[a("el-input",{model:{value:e.r.goods_weight,callback:function(t){e.$set(e.r,"goods_weight",t)},expression:"r.goods_weight"}})],1),a("el-form-item",{attrs:{label:"商品数量"}},[a("el-input",{model:{value:e.r.goods_number,callback:function(t){e.$set(e.r,"goods_number",t)},expression:"r.goods_number"}})],1),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-cascader",{attrs:{options:e.catlist,props:{expandTrigger:"hover",label:"cat_name"}},on:{change:e.cascader_change},model:{value:e.a.cat,callback:function(t){e.$set(e.a,"cat",t)},expression:"a.cat"}})],1)],1):e._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show_edit_board=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"删除商品",visible:e.show_del_board}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show_del_board=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.del_sure(e.r)}}},[e._v("确定")])],1)])],1)},o=[],r=(a("b0c0"),a("498a"),a("96cf"),a("1da1")),s={name:"productlist",data:function(){return{id_for_seek:"",goodlist:null,catlist:null,current_page:1,page_sizes:[5,10,25,50,100],page_size:5,total:3,r:null,show_add_board:!1,show_edit_board:!1,show_del_board:!1,a:{steps:[{index:"0",step_name:"基本信息"},{index:"1",step_name:"商品参数"},{index:"2",step_name:"商品属性"},{index:"3",step_name:"商品图片"},{index:"4",step_name:"商品内容"}],step_index:0,name:"",cat:[],price:"",number:"",weight:"",intr:"",pics:"",attrs:""}}},created:function(){},mounted:function(){this.oninit()},methods:{seekbyid:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.id_for_seek.trim()){t.next=5;break}return e.$message("搜索框为空"),t.abrupt("return",!1);case 5:return t.next=7,e.$http.get("/goods",{params:{query:e.id_for_seek,pagenum:e.current_page,pagesize:e.page_size}});case 7:a=t.sent,n=a.data,console.log(n),n.data?(e.goodlist=n.data.goods,console.log("获取列表信息",e.goodlist),e.total=n.data.total):e.$message(n.meta.msg);case 11:case"end":return t.stop()}}),t)})))()},cascader_change:function(){},before_leave_this_tab:function(e,t){if(console.log(e,t),e>=1&&!this.step_on_off_one)return this.$set(this.a,"step_index","0"),this.$message("信息不能为空"),!1},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.page_size=e,this.oninit()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.current_page=e,this.oninit()},get_cats_lists:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories?type=3",{params:{}});case 2:a=t.sent,n=a.data,e.catlist=n.data,console.log("商品分类信息",e.catlist),e.show_add_board=!0;case 7:case"end":return t.stop()}}),t)})))()},oninit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/goods",{params:{pagenum:e.current_page,pagesize:e.page_size,query:""}});case 2:a=t.sent,n=a.data,console.log("页面初始化数据",n),e.goodlist=n.data.goods,console.log("获取列表信息",e.goodlist),e.total=n.data.total;case 8:case"end":return t.stop()}}),t)})))()},run_editor:function(e,t){switch(this.r=e,t){case"edit":this.show_edit_board=!0;break;case"del":this.show_del_board=!0;break}},add_sure:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/goods",{goods_name:"",goods_cat:"",goods_price:"",goods_number:"",goods_weight:"",goods_introduce:"",pics:"",attrs:""});case 2:a=t.sent,a.data,e.show_add_board=!1,e.oninit();case 6:case"end":return t.stop()}}),t)})))()},edit_sure:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.put("/goods/".concat(e.goods_id),{goods_name:"",goods_cat:"",goods_price:"",goods_number:"",goods_weight:"",goods_introduce:"",pics:"",attrs:""});case 2:n=a.sent,o=n.data,console.log("编辑确定回执",o);case 5:case"end":return a.stop()}}),a)})))()},del_sure:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("/goods/".concat(e.goods_id),{});case 2:n=a.sent,o=n.data,console.log(o),t.show_del_board=!1,t.oninit();case 7:case"end":return a.stop()}}),a)})))()}},computed:{step_on_off_one:function(){var e=this.a,t=e.name&&e.price&&e.weight&&e.number&&e.cat[0];return t}},watch:{},filters:{changeformat:function(e){var t=new Date(e+"000"-0);return t.toLocaleDateString()+" "+t.toLocaleTimeString()}},directives:{},components:{}},i=s,l=a("2877"),c=Object(l["a"])(i,n,o,!1,null,"ffc9add2",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-0af8a11a.0e6bad53.js.map